"use strict";!function(){var __webpack_modules__={"./src/js/components/Alert.js":function srcJsComponentsAlertJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ renderAlert)\n/* harmony export */ });\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Modal */ "./src/js/components/Modal.js");\n/* harmony import */ var _helpers_fetchData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/fetchData */ "./src/js/helpers/fetchData.js");\n/* harmony import */ var _helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/createElement.js */ "./src/js/helpers/createElement.js");\n\r\n\r\n\r\n\r\n/**\r\n * Creates and appends alert element with counter and table including users data\r\n * @param {string} title alert title\r\n * @param {HTMLElement} openButton button that should open this alert\r\n * @param {string} counterKey localstorage keyname for storing count value\r\n * @returns {HTMLElement} alert element\r\n */\r\n\r\nfunction renderAlert(\r\n\ttitle,\r\n\topenButton,\r\n\tcounterKey = "alertCounter"\r\n) {\r\n\tlet count = getCount(counterKey);\r\n\r\n\tconst table = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("table", { class: "alert__table loading" });\r\n\tconst tableWrapper = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("div", { class: "alert__table-wrapper" }, [\r\n\t\ttable,\r\n\t]);\r\n\r\n\tconst alertTitle = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(\r\n\t\t"h2",\r\n\t\t{ class: "alert__title", id: "alert-title" },\r\n\t\t[title]\r\n\t);\r\n\r\n\tconst closeButton = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("button", { class: "alert__close-button" });\r\n\tcloseButton.addEventListener("click", () => {\r\n\t\tAlert.style.display = "none";\r\n\t\topenButton.focus();\r\n\t});\r\n\tconst alertCounter = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(\r\n\t\t"strong",\r\n\t\t{ class: "alert__text--semibold" },\r\n\t\t[`${count} ${count === 1 ? "time" : "times"}`]\r\n\t);\r\n\tconst alertText = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("p", { class: "alert__text" }, [\r\n\t\t"You have clicked",\r\n\t\talertCounter,\r\n\t\t"related button.",\r\n\t]);\r\n\r\n\tconst resetButton = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(\r\n\t\t"button",\r\n\t\t{ class: "button button--reset" },\r\n\t\t["Reset"]\r\n\t);\r\n\tresetButton.addEventListener("click", () => {\r\n\t\tlocalStorage.setItem(counterKey, "0");\r\n\t\tcount = 0;\r\n\t\tresetButton.style.display = "none";\r\n\t\talertCounter.textContent = "0 times";\r\n\t\talertText.innerHTML = "";\r\n\t\talertText.append("You have clicked ", alertCounter, " to related button.");\r\n\t});\r\n\tconst alertContent = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("div", { class: "alert__content" }, [\r\n\t\talertTitle,\r\n\t\tcloseButton,\r\n\t\ttableWrapper,\r\n\t\talertText,\r\n\t\tresetButton,\r\n\t]);\r\n\tconst Alert = (0,_Modal__WEBPACK_IMPORTED_MODULE_0__["default"])(\r\n\t\topenButton,\r\n\t\t{ "aria-labelledby": "alert-title" },\r\n\t\talertContent\r\n\t);\r\n\tAlert.classList.add("alert");\r\n\tdocument.body.appendChild(Alert);\r\n\topenButton.addEventListener("click", () => {\r\n\t\tAlert.style.display = "grid";\r\n\t\tcloseButton.focus();\r\n\t\tcount++;\r\n\t\tlocalStorage.setItem(counterKey, count);\r\n\t\talertCounter.textContent = `${count} ${count === 1 ? "time" : "times"}`;\r\n\t\talertText.innerHTML = `You have clicked ${alertCounter.outerHTML} to related button.`;\r\n\t\tif (count > 5) {\r\n\t\t\tresetButton.style.display = "block";\r\n\t\t}\r\n\t\tgetUsers(table);\r\n\t});\r\n\treturn Alert;\r\n}\r\n\r\nasync function getUsers(table) {\r\n\tconst users = await (0,_helpers_fetchData__WEBPACK_IMPORTED_MODULE_1__["default"])("https://jsonplaceholder.typicode.com/users");\r\n\tif (users) {\r\n\t\ttable.innerHTML = "";\r\n\t\tconst thead = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("thead", {}, [\r\n\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(\r\n\t\t\t\t"tr",\r\n\t\t\t\t{},\r\n\t\t\t\t["Imię", "E-mail", "Adres", "Telefon", "Firma"].map((el) =>\r\n\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(el)\r\n\t\t\t\t)\r\n\t\t\t),\r\n\t\t]);\r\n\t\tconst tbody = (0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])(\r\n\t\t\t"tbody",\r\n\t\t\t{},\r\n\t\t\tusers.map(\r\n\t\t\t\t({ name, address: { city, street, suite }, email, company, phone }) =>\r\n\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("tr", {}, [\r\n\t\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("td", {}, [name]),\r\n\t\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("td", {}, [email]),\r\n\t\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("td", {}, [`${city} ${street} ${suite}`]),\r\n\t\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("td", {}, [phone]),\r\n\t\t\t\t\t\t(0,_helpers_createElement_js__WEBPACK_IMPORTED_MODULE_2__["default"])("td", {}, [company.name]),\r\n\t\t\t\t\t])\r\n\t\t\t)\r\n\t\t);\r\n\t\ttable.append(thead, tbody);\r\n\t\ttable.classList.remove("loading");\r\n\t}\r\n}\r\n\r\nfunction getCount(counterKey) {\r\n\tif (localStorage.getItem(counterKey)) {\r\n\t\treturn parseInt(localStorage.getItem(counterKey));\r\n\t}\r\n\treturn 0;\r\n}\r\n\n\n//# sourceURL=webpack://gravity-global-recruitment-task/./src/js/components/Alert.js?')},"./src/js/components/Modal.js":function srcJsComponentsModalJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ Modal)\n/* harmony export */ });\n/* harmony import */ var _helpers_createElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/createElement */ "./src/js/helpers/createElement.js");\n\r\n\r\n/**\r\n * Creates modal element\r\n * @param {HTMLElement} prevFocusedElement Previously focused element\r\n * @param {object} attr Modal attributes\r\n * @param {HTMLElement} child Modal child\r\n * @returns {HTMLElement} Modal Element\r\n */\r\n\r\nfunction Modal(prevFocusedElement, attr = {}, child = []) {\r\n\tconst modal = (0,_helpers_createElement__WEBPACK_IMPORTED_MODULE_0__["default"])(\r\n\t\t"div",\r\n\t\t{ class: "modal", role: "dialog", ...attr },\r\n\t\t[child]\r\n\t);\r\n\tdocument.addEventListener("click", (e) => {\r\n\t\tif (e.target === modal) {\r\n\t\t\tmodal.style.display = "none";\r\n\t\t\tprevFocusedElement.focus();\r\n\t\t}\r\n\t});\r\n\tdocument.addEventListener("keydown", (e) => {\r\n\t\tif (e.key === "Escape") {\r\n\t\t\tmodal.style.display = "none";\r\n\t\t\tprevFocusedElement.focus();\r\n\t\t}\r\n\t});\r\n\treturn modal;\r\n}\r\n\n\n//# sourceURL=webpack://gravity-global-recruitment-task/./src/js/components/Modal.js?')},"./src/js/components/popup.js":function srcJsComponentsPopupJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var _helpers_fetchData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helpers/fetchData */ "./src/js/helpers/fetchData.js");\n\r\n\r\nfunction create(\r\n\tpopup,\r\n\tcounter,\r\n\topenButton,\r\n\tcloseButton,\r\n\tresetButton,\r\n\tcounterKey = "popupCounter"\r\n) {\r\n\tlet count = 0;\r\n\tif (localStorage.getItem(counterKey)) {\r\n\t\tcount = parseInt(localStorage.getItem(counterKey));\r\n\t}\r\n\topenButton.addEventListener("click", async () => {\r\n\t\tpopup.style.display = "grid";\r\n\t\tcount++;\r\n\t\tlocalStorage.setItem(counterKey, count);\r\n\t\tcounter.innerText = `${count} times`;\r\n\t\tif (count > 5) {\r\n\t\t\tresetButton.style.display = "block";\r\n\t\t}\r\n\t\tconst users = await (0,_helpers_fetchData__WEBPACK_IMPORTED_MODULE_0__["default"])("https://jsonplaceholder.typicode.com/users");\r\n\t\tif (users) {\r\n\t\t\tconst table = document.querySelector(".alert__table");\r\n\t\t\ttable.innerHTML =\r\n\t\t\t\t"<tr><th>Imię</th><th>E-mail</th><th>Adres</th><th>Telefon</th><th>Firma</th></tr>";\r\n\t\t\tusers.forEach(({ name, address, email, company, phone }) => {\r\n\t\t\t\tconst tr = document.createElement("tr");\r\n\t\t\t\tconst tdName = document.createElement("td");\r\n\t\t\t\ttdName.innerText = name;\r\n\t\t\t\tconst tdEmail = document.createElement("td");\r\n\t\t\t\ttdEmail.innerText = email;\r\n\t\t\t\tconst tdAddress = document.createElement("td");\r\n\t\t\t\ttdAddress.innerText = `${address.city} ${address.street} ${address.suite}`;\r\n\t\t\t\tconst tdPhone = document.createElement("td");\r\n\t\t\t\ttdPhone.innerText = phone;\r\n\t\t\t\tconst tdCompany = document.createElement("td");\r\n\t\t\t\ttdCompany.innerText = company.name;\r\n\t\t\t\ttr.append(tdName, tdEmail, tdAddress, tdPhone, tdCompany);\r\n\t\t\t\ttable.appendChild(tr);\r\n\t\t\t});\r\n\t\t\ttable.classList.remove("loading");\r\n\t\t}\r\n\t});\r\n\tcloseButton.addEventListener("click", (e) => {\r\n\t\tpopup.style.display = "none";\r\n\t});\r\n\tresetButton.addEventListener("click", () => {\r\n\t\tcount = 0;\r\n\t\tlocalStorage.setItem(counterKey, count);\r\n\t\tcounter.innerText = `${count} times`;\r\n\t\tresetButton.style.display = "none";\r\n\t});\r\n\tdocument.addEventListener("click", (e) => {\r\n\t\tif (e.target === popup) {\r\n\t\t\tpopup.style.display = "none";\r\n\t\t}\r\n\t});\r\n}\r\n\n\n//# sourceURL=webpack://gravity-global-recruitment-task/./src/js/components/popup.js?')},"./src/js/helpers/createElement.js":function srcJsHelpersCreateElementJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ createElement)\n/* harmony export */ });\n/**\r\n * Creates a DOM element\r\n * @param {string} tag Element tag\r\n * @param {object} attrs Element attributes\r\n * @param {(string | HTMLElement)[]} children Element children or text content\r\n * @returns {HTMLElement} HTMLElement\r\n */\r\n\r\nfunction createElement(tag, attrs = {}, children = []) {\r\n\tconst el = document.createElement(tag);\r\n\r\n\tfor (const [attr, value] of Object.entries(attrs)) {\r\n\t\tel.setAttribute(attr, value);\r\n\t}\r\n\r\n\tfor (const child of children) {\r\n\t\tif (typeof child === "string") {\r\n\t\t\tel.textContent = child;\r\n\t\t} else el.appendChild(child);\r\n\t}\r\n\r\n\treturn el;\r\n}\r\n\n\n//# sourceURL=webpack://gravity-global-recruitment-task/./src/js/helpers/createElement.js?')},"./src/js/helpers/fetchData.js":function srcJsHelpersFetchDataJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ fetchData)\n/* harmony export */ });\n/**\r\n * Async function that returns response from given endpoint\r\n * @param {string} endpoint\r\n */\r\n\r\nasync function fetchData(endpoint) {\r\n\tconst response = await fetch(endpoint);\r\n\tif (!response.ok) throw new Error(response.statusText);\r\n\treturn await response.json();\r\n}\r\n\n\n//# sourceURL=webpack://gravity-global-recruitment-task/./src/js/helpers/fetchData.js?')},"./src/js/main.js":function srcJsMainJs(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_Alert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Alert */ "./src/js/components/Alert.js");\n\r\n\r\nconst openButton = document.getElementById("button");\r\n(0,_components_Alert__WEBPACK_IMPORTED_MODULE_0__["default"])("Alert!", openButton);\r\n\n\n//# sourceURL=webpack://gravity-global-recruitment-task/./src/js/main.js?')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](e,e.exports,__webpack_require__),e.exports}__webpack_require__.d=function(t,e){for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__("./src/js/main.js"),__webpack_require__("./src/js/components/Alert.js"),__webpack_require__("./src/js/components/Modal.js"),__webpack_require__("./src/js/components/popup.js"),__webpack_require__("./src/js/helpers/createElement.js");var __webpack_exports__=__webpack_require__("./src/js/helpers/fetchData.js")}();